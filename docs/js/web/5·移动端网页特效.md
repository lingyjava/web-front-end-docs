# 5·移动端网页特效

<!-- TOC -->
* [5·移动端网页特效](#5移动端网页特效)
  * [介绍](#介绍)
  * [触屏事件](#触屏事件)
  * [classList](#classlist)
  * [常见特效](#常见特效)
    * [click延时](#click延时)
  * [开发插件](#开发插件)
  * [开发框架](#开发框架)
<!-- TOC -->

## 介绍
移动端浏览器兼容性较好，我们不需要考虑以前JS 的兼容性问题，可以放心的使用原生JS 书写效果，但是移动端也有自己独特的地方。

## 触屏事件
触屏事件 touch(也称触摸事件)，Android和IOS 都有。
touch 对象代表一个触摸点。触摸点可能是一根手指，也可能是一根触摸笔。触屏事件可响应用户手指(或触控笔)对屏幕或者触控板操作。

常见的触屏事件如下:

| 触屏touch事件  | 说明                 |
|------------|--------------------|
| touchstart | 手指触摸到一个 DOM 元素时触发  |
| touchmove  | 手指在一个 DOM 元素上滑动时触发 |
| touchend   | 手指从一个 DOM 元素上移开时触发 |

三种触屏事件都有各自的事件对象TouchEvent，描述手指在触摸平面的状态变化，一个或多个触点，触点的移动、增加、减少等。

| 触摸列表           | 说明                       |
|----------------|--------------------------|
| touches        | 正在触摸屏幕的所有手指的一个列表         |
| targetTouches  | 正在触摸当前 DOM 元素上的手指的一个列表   |
| changedTouches | 手指状态发生了改变的列表，从无到有，从有到无变化 |

## classList
classList属性是H5中新增，ie10以上支持，可以返回元素的类名，添加、移除、切换类名。

- 添加类：`element.classList.add('类名');`
- 移除类：`element.classList.remove('类名')`
- 切换类：`element.classList.toggle('类名')`

## 常见特效

### click延时
移动端click事件有300ms的延时，因为移动端双击屏蔽有缩放页面的效果。

解决方案：
1. 禁用缩放。浏览器禁用默认的双击缩放行为并且去掉300ms 的点击延迟。
`<meta name="viewport" content="user-scalable=no">`

2. 利用touch事件自己封装这个事件解决300ms延迟。
实现原理： 
   1. 当我们手指触摸屏幕，记录当前触摸时间。
   2. 当我们手指离开屏幕，用离开的时间减去触摸的时间。
   3. 如果时间小于150s，共且没有滑动过屏幕，那么我们就定义为点击。

## 开发插件
移动端要求的是快速开发，所以经常会借助于一些插件完成操作，JS 插件就是JS文件，它遵循一定规范编写，方便程序展示效果，拥有特定功能且方便调用。
如轮播图和瀑布流插件.

特点:它一般是为了解决某个问题而专门存在，其功能单一，并且比较小。

- [fastclick插件](https://github.com/ftlabs/fastclick)：解决300ms延迟。
- [swiper插件](https://www.swiper.com.cn/)：触摸滑动插件。

## 开发框架
框架就是一套架构，基于自身的特点提供一套较为完整的解决方案。框架的控制权在框架本身，使用者要按照框架所规定的某种规范进行开发。

- 框架:大而全，一整套解决方案
- 插件:小而专一，某个功能的解决方案

- 前端常用的框架有 Bootstrap、Vue、Angular、React等。
- 既能开发PC端，也能开发移动端前端常用的移动端插件有swiper、superslide、 iscroll等。


